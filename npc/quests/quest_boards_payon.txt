
payon,171,162,3	script	Quest Board#TutoPayon	4_BOARD3,{
	for ( .@i = 11124; .@i < 11134; .@i++ )
		if (checkquest(.@i,PLAYTIME) == 2) erasequest .@i;
	for( .@i = 11114; .@i < 11124; .@i++ ) {
		.@j = checkquest(.@i,HUNTING);
	}

	mes " - Quest bulletin board -";
	mes "Look for contracts to help the Midgard community";
	mes "and gain some extra EXP along the way.";
	mes "Jobs are categorised based on difficulty level.";
	mes " ";
	mes " - Midgard Continental Alliance";
	next;

	switch(select("Payon Forest:Payon Cave")) {
		case 1:
			switch(select("^aeeb34Lv.1~10^000000 - Looters!:^aeeb34Lv.1~10^000000 - Prevent their evolution:^aeeb34Lv.1~10^000000 - Into the woods:^42c431Lv.10~20^000000 - Get some tails:^42c431Lv.10~20^000000 - Watch your step:^42c431Lv.10~20^000000 - Living mushrooms")) {
				case 1: callsub L_Quest,1,"Looters!"," - Ever dropped something and then couldn't find it? A ^4d4dffPoring^000000 must have gotten it first! ^4d4dffPoring^000000 will eat whatever you drop. Finish off 10 of them for a reward, before anymore items disappear...";
				case 2: callsub L_Quest,2,"Prevent their evolution"," - ^4d4dffFabre^000000 are the larvae form of ^4d4dffCreamy^000000, and are a real threat to new adventurers. Kill 10 ^4d4dffFabres^000000 around the Prontera and Izlude fields for a reward. You will be doing novices a favour.";
				case 3: callsub L_Quest,12,"Into the woods"," - There's too many ^4d4dffWillow^000000 in the south forest. They can evolve into ^4d4dffElder Willow^000000. If that happens novices will not be able to leave Payon safely. Help them and kill 10 ^4d4dffWillow^000000.";
				case 4: callsub L_Quest,20,"Get some tails"," - The weaponries here are looking for adventurers to retriave ^4d4dffPointed Scales^000000 from ^4d4dffWormtails^000000 in the forest. They will be used for creating spears. Bring 10 of them for a reward.";
				case 5: callsub L_Quest,21,"Watch your step"," - ^4d4dffBoas^000000 have made their way to the forest. New adventurers are being poisoned after not seeing them and stepping on them. Help control the plague by killing 10 of them.";
				case 6: callsub L_Quest,22,"Living mushrooms"," - A living mushroom species is nesting west from Payon. We call them ^4d4dffSpores^000000. They are not very dangerous, they can evolve into ^4d4dffPoison Spores^000000 and we don't want that around here. Kill 10 of them and the city will reward you.";
			}
		case 2:
			switch(select("^42c431Lv.10~20^000000 - Dawn of the dead")) {
				case 1: callsub L_Quest,19,"Dawn of the dead"," - Have you been to the Payon cave? It's entrance is at the Archer Village. Anyway, the first floor is infested with ^4d4dffZombies^000000. Finish off 10 of them for a reward.";
			}

	}
	
	end;

L_Quest:
	.@quest_status = checkquest(getarg(0)+10,PLAYTIME);
	mes " - Quest '"+ getarg(1) +"' - ";
	for ( .@i = 2; .@i < getargcount(); .@i++ )
		mes getarg(.@i);
	mes " ";
	next;
	if (select("I will do this quest.:Look for other quests.") == 2) {
		mes "Let's search for other quests.";
		close;
	}
	for ( .@i = 2; .@i < getargcount(); .@i++ )
		mes getarg(.@i);
	setquest getarg(0);
	close;	
}

payon,173,162,5	script	Quest Rewards#RewardPayon	4_BOARD3,{
	mes "- Quest Reward Board -";
	mes "Are you looking for a job?";
	mes "We have posted quests with EXP rewards on the board to your left!";
	next;
	mes "- Quest Reward Board -";
	mes "When done, post the results of your finished quests in this board for your reward.";
	next;
	switch(select("Payon Forest:Payon Cave")) {
		case 1: 
			switch(select("Looters!:Prevent their evolution:Into the woods:Get some tails:Watch your step:Living mushrooms")) {
				case 1: callsub L_Quest,1,"Looters!",1000,1000,501,10; //exp,jexp, rewarditemid, rewarditemquantity, requestitemid, requestitemquantity
				case 2: callsub L_Quest,2,"Prevent their evolution",1200,1100,501,10;
				case 3: callsub L_Quest,12,"Into the woods",1200,1100,501,10;
				case 4: callsub L_Quest,20,"Get some tails",2000,2100,0,0,906,10;
				case 5: callsub L_Quest,21,"Watch your step",2000,2000,0,0;
				case 6: callsub L_Quest,22,"Living mushrooms",2000,2100,0,0;
			}
		case 2: 
			switch(select("Dawn of the dead")) {
				case 1: callsub L_Quest,19,"Dawn of the dead",2100,2200,0,0;
			}
	}


L_Quest:
	.@quest_id = getarg(0);
	if (checkquest(.@quest_id) == 1) {
		if (checkquest(.@quest_id,HUNTING) == 2) {
			.@item_req = getarg(6,0);
			.@req_amount = getarg(7,0);
			if (.@item_req) {
				if (countitem(.@item_req) < .@req_amount) {
					mes "Hmmm... I don't have enough "+ getitemname(.@item_req) +".";
					mes "I need to bring "+ .@req_amount +" "+ getitemname(.@item_req) +".";
					close;
				}
			}
	
			mes "Hmm... let me see...";
			mes "Looks like I have completed the '"+ getarg(1) +"' quest!";
			mes "Posting the result now!";
			next;
			Zeny += getarg(3);
			getitem getarg(4),getarg(5); 
			erasequest .@quest_id;
			getexp getarg(2),getarg(3);
			close;
		}
		mes "Hmm... let me see...";
		next;
		mes "Looks like I haven't completed this quest yet.";
		close;
	}
	mes "Looks like I have not picked up this quest..";
	close;
}


